---
- project:
    check:
      jobs:
        - openstack-tox-linters:
            voting: false
        - sysinv-tox-unittest:
            voting: false
        - stx-config-puppet-lint
    gate:
      jobs:
        - noop

- job:
    name: sysinv-tox-unittest
    parent: tox
    description: |
      Run unit test for sysinv
    required-projects:
      - openstack/stx-update
      - openstack/stx-fault
      - openstack/stx-integ
    vars:
      tox_envlist: py27
      tox_extra_args: -c sysinv/sysinv/sysinv/tox.ini

- job:
    name: stx-config-puppet-lint
    parent: puppet-openstack-module-base
    run: playbooks/run-lint-tests.yaml
    irrelevant-files:
      - ^doc/.*$
      - ^etc/.*$
      - ^releasenotes/.*$
      - ^requirements.txt$
      - ^test-requirements.txt$

